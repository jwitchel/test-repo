# Database
DATABASE_URL=postgresql://aiemailuser:aiemailpass@localhost:5434/aiemaildb

# Frontend URL
FRONTEND_URL=http://localhost:3001

# Express server port
PORT=3002

# Auth secret
BETTER_AUTH_SECRET=your-secret-key-here

# Encryption key (generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-encryption-key-here

# Google OAuth Configuration
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Redirect URI: http://localhost:3002/api/auth/callback/google
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# Environment
NODE_ENV=development

# Email Processing Pipeline Configuration
EMAIL_PIPELINE_CONCURRENCY=1

# Qdrant Vector Database Configuration
# URL for Qdrant vector database (default: http://localhost:6333)
QDRANT_URL=http://localhost:6333
# Optional API key for Qdrant (leave empty for local development)
QDRANT_API_KEY=

# Vector Search Settings
# Maximum number of results to return from vector search (default: 50)
VECTOR_SEARCH_LIMIT=50
# Minimum similarity score threshold for vector search (0-1, default: 0)
# Set to 0 to get all results sorted by similarity without filtering
VECTOR_SCORE_THRESHOLD=0
# Similarity threshold for near-duplicate detection (0-1, default: 0.98)
NEAR_DUPLICATE_THRESHOLD=0.98
# Minimum number of examples required per relationship type (default: 10)
MIN_EXAMPLES_PER_RELATIONSHIP=10

# Vector Performance Settings
# Batch size for embedding generation (default: 32)
EMBEDDING_BATCH_SIZE=32
# Timeout for vector search operations in milliseconds (default: 5000)
VECTOR_SEARCH_TIMEOUT_MS=5000

# Pipeline Configuration
# Batch size for processing emails in parallel (default: 100)
PIPELINE_BATCH_SIZE=100
# Number of parallel workers for email processing (default: 5)
PIPELINE_PARALLELISM=5
# Number of retry attempts for failed operations (default: 3)
PIPELINE_RETRY_ATTEMPTS=3
# Maximum error rate before stopping (0-1, default: 0.1 = 10%)
PIPELINE_ERROR_THRESHOLD=0.1
# Number of examples to use for tone learning (default: 25)
EXAMPLE_COUNT=25
# Maximum percentage of examples from direct emails with recipient (0-1, default: 0.6 = 60%)
DIRECT_EMAIL_MAX_PERCENTAGE=0.6

# Writing Pattern Analysis Configuration
# Number of emails to analyze for pattern extraction (default: 200)
PATTERN_ANALYSIS_CORPUS_SIZE=200
# Maximum tokens for pattern analysis LLM calls (default: 20000)
PATTERN_ANALYSIS_MAX_TOKENS=20000
# Number of example sentences to keep (default: 10)
PATTERN_EXAMPLE_COUNT=10
# Number of unique expressions to track (default: 15)
PATTERN_UNIQUE_EXPRESSIONS_COUNT=15