# Database Configuration
# PostgreSQL running on non-standard port 5434 to avoid conflicts
DATABASE_URL=postgresql://aiemailuser:aiemailpass@localhost:5434/aiemaildb

# Redis Configuration
# Redis running on non-standard port 6380 to avoid conflicts
REDIS_URL=redis://localhost:6380

# Authentication
# Generate a secure random string for production
BETTER_AUTH_SECRET=your-secret-key-here

# Encryption
# Used for encrypting email account passwords (IMAP credentials)
# Generate a secure random string for production (at least 32 characters)
# Example: openssl rand -base64 32
ENCRYPTION_KEY=your-encryption-key-here

# API Configuration
# This tells the Next.js frontend where to find the Express backend
NEXT_PUBLIC_API_URL=http://localhost:3002

# Server Port (optional, defaults to 3002)
PORT=3002

# Frontend URL (optional, defaults to http://localhost:3001)
FRONTEND_URL=http://localhost:3001

# Node Environment (optional)
NODE_ENV=development

# Email Processing Pipeline Configuration
# Number of emails to process in parallel (default: 1 for single-stream)
# Increase for better throughput in production
EMAIL_PIPELINE_CONCURRENCY=1

# IMAP Logging Configuration (optional)
# Maximum number of logs to keep per user (default: 1000)
IMAP_MAX_LOGS_PER_USER=1000
# Log level: debug, info, warn, error (default: info)
IMAP_LOG_LEVEL=info

# Qdrant Vector Database Configuration
# URL for Qdrant vector database (default: http://localhost:6333)
QDRANT_URL=http://localhost:6333
# Optional API key for Qdrant (leave empty for local development)
QDRANT_API_KEY=

# Vector Search Settings
# Maximum number of results to return from vector search (default: 50)
VECTOR_SEARCH_LIMIT=50
# Minimum similarity score threshold for vector search (0-1, default: 0.7)
VECTOR_SCORE_THRESHOLD=0.7
# Similarity threshold for near-duplicate detection (0-1, default: 0.98)
NEAR_DUPLICATE_THRESHOLD=0.98
# Minimum number of examples required per relationship type (default: 10)
MIN_EXAMPLES_PER_RELATIONSHIP=10

# Vector Performance Settings
# Batch size for embedding generation (default: 32)
EMBEDDING_BATCH_SIZE=32
# Timeout for vector search operations in milliseconds (default: 5000)
VECTOR_SEARCH_TIMEOUT_MS=5000